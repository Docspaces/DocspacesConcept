<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/style_default.css">
    <link rel="stylesheet" href="/css/editor_split_layout.css">
    <script src="/js/editor_split_layout.js"></script>

    <%- include('site_font_common_includes') %>
    <%- include('monaco_editor_common_includes') %>

    <style type="text/css">
        .zoom-button {
            position: absolute;
            background: #EAEAEA;
            border: solid 1px #DADADA;
            border-radius: 5px;
            top: 110px;
            right: 50px;
            padding: 3px 16px;
            font-size: 12px;
            cursor: pointer;
        }

        .zoom-button:hover {
            background:#dadada;
        }

        a#lnkChangeName,
        a#lnkChangeName:visited {
            font-size: 10px;
            text-decoration: none;
            display: inline-block;
            color: #5b6570;
        }


        .errorIcon {
            display: block;

            background-size: contain;
            background-repeat: no-repeat;
            background-color: #FFAAAA;
        }
    </style>

        <script type="module">

            import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@9/dist/mermaid.esm.min.mjs";

            // We need to do this so we can pass values from EJS. We might change this, but it works ok for now
            import { configureMermaidEditorOnDOMContentLoaded } from "/js/mermaid_editor.js";

            configureMermaidEditorOnDOMContentLoaded('<%= diagramId %>', mermaid);

        </script>


</head>

<body>


    <div class="wrapper">
        <div class="header-page-area">
            <div class="header-top">
                <a href="/"><img src="/images/ArctusBoxLogo.png"
                        style="border-radius:3px; left:9px; top:6px; width:28px; height:28px; float:left; position:absolute" /></a>
                <p class="main_title">Docspaces <span class="subtitle">early preview</span> - Edit Page (mermaid)</p>
            </div>
            <div class="header-toolbar">
                <div style="flex-grow: 1;"></div>
                <div style="padding-right:40px">
                    <form method=POST style="display:inline">
                        <input type=hidden id="save-content" name="content" />
                        <button class="toolbar_button toolbar_button_primary" id="btnSave">Save</button>
                    </form>
                    <button class="toolbar_button" id="btnClose">Exit</button>
                </div>
            </div>
        </div>
        <div class="full-height-editor-area">

            <div class="split-panel-container">
                <div class="split-panel-container-left">
                    <div style="width:100%; height:100%;" id="txtDiagramData"></div>
                </div>
                <div class="split-panel-container-resizer" id="split_view_resize_handle"></div>
                <div class="split-panel-container-right" style="overflow: scroll;">
                    <h1
                        style="position:relative; margin:0 0 20px 0; font-family:sans-serif; font-size:20px; padding-bottom:15px; border-bottom:solid 1px #E4E4E4;">
                        <span id="lblName">
                            <%= diagram.name %>
                        </span> <a href="#" id="lnkChangeName">rename</a></a>
                    </h1>
                    <div id="diagram_area" style="margin-top:0px;"></div>
                    <button class="zoom-button" id="btnZoom">Zoom</button>
                </div>
            </div>

        </div>
    </div>


</body>

</html>